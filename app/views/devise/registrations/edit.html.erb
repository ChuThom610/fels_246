<section class="section section-shaped section-lg">
  <div class="shape shape-style-1 bg-gradient-default">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>
  <div class="container pt-lg-md">
    <div class="row justify-content-center">
      <div class="col-lg-5">
        <div class="card bg-secondary shadow border-0">
          <div class="card-header px-lg-5 py-lg-5">
            <div class="text-center text-muted mb-4">
              <h4><%= t ".edit_user" %></h4>
            </div>
            <%= form_for resource, as: resource_name, url: registration_path(resource_name), html: { method: :put } do |f| %>
              <%= devise_error_messages! %>

              <div class="form-group">
                <div class="input-group input-group-alternative mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fa fa-user"></i></span>
                  </div>
                  <%= f.text_field :name, class: "form-control",
                    placeholder: "Name", autofocus: true, autocomplete: "name" %>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group input-group-alternative mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                  </div>
                  <%= f.email_field :email, class: "form-control",
                    placeholder: "Email", autofocus: true, autocomplete: "email" %>
                </div>
              </div>

              <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                <div>
                  <%= t ".text" %>
                  <%= resource.unconfirmed_email %>
                </div>
              <% end %>

              <div class="form-group">
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fa fa-unlock-alt"></i>
                    </span>
                  </div>
                  <%= f.password_field :password, class: "form-control",
                    placeholder: "New password (6 characters minimum)",
                    autocomplete: "new-password", ":data-toggle" => "tooltip",
                    title: "Leave blank if you don't want to change it" %>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fa fa-repeat"></i>
                    </span>
                  </div>
                  <%= f.password_field :password_confirmation, class: "form-control",
                    placeholder: "New password confirmation",
                    autocomplete: "new-password" %>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <i class="fa fa-key"></i>
                    </span>
                  </div>
                  <%= f.password_field :current_password, class: "form-control",
                    placeholder: "Current password", ":data-toggle" => "tooltip",
                    title: "Fill current password to confirm your changes",
                    autocomplete: "current-password" %>
                </div>
              </div>

              <div class="actions text-center">
                <%= f.submit t(".change"), class: "btn btn-primary mt-4" %>
              </div>
            <% end %>
          </div>
          <div class="card-body bg-white pb-5">
            <div class="text-center text-muted mb-4">
              <h4><%= t ".cancel_account" %></h4>
            </div>
            <div class="row mt-3">
              <div class="col-6">
                <%= t ".unhappy" %>
              </div>
              <div class="col-6 text-right">
                <%= link_to t(".delete"),
                  registration_path(resource_name),
                  class: "btn btn-outline-danger",
                  data: { confirm: "Are you sure?" },
                  method: :delete %>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-6">
            <small>
              <%= link_to :back, class: "btn btn-icon" do %>
                <span class="btn-inner--icon">
                  <i class="fa fa-arrow-left mr-2"></i>
                </span>
                <%= t ".back" %>
              <% end %>
            </small>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
